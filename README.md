# SmartUpdate
android 增量更新，梳理下增量更新的基本逻辑。
1. 客户端发请求，携带当前apk的版本号，和安装包的MD5值。
2. 服务端根据版本号和MD5值进行校验，正确的话生成差异包，然后将差异包文件和最新包的MD5值返回。
3. 客户端接受到回调之后，进行合并操作，将合并后的安装包与MD5值进行比对（考虑将MD5值对比放到服务端进行）。

## 涉及到的其他的关键点
1. 考虑到合并操作的耗时，应使用子线程加后台service加Notification进行。
2. 各个环节失败，错误的提示和下一步操作。

## 例子
例子中是用的是CMake,关键的bzip2中的代码使用的是另一个项目的，基本上用的都是一样的，然后提供一个window下的bsdiff工具在win文件夹。
先本地生成old.apk,new.apk，然后用工具生成差异包，adb push 到本地目录，安装old.apk，然后点击patch，就可以了。

